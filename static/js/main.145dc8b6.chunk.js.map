{"version":3,"sources":["lib/EventEmitter.js","utils/ModalController.js","components/Modal/styles.js","components/Modal/useModalState.js","components/Modal/Modal.jsx","components/Modal/index.jsx","components/Button/styles.js","components/Button/index.jsx","components/Button/Button.jsx","components/Modal/ModalOverlay.jsx","styles.js","App.js","index.js"],"names":["indexOf","Array","prototype","haystack","needle","i","length","idx","found","EventEmitter","this","events","on","event","listener","push","off","splice","emit","listeners","args","slice","call","arguments","apply","once","g","uiEvents","controller","stack","currentLevel","open","name","includes","filter","o","level","close","pop","activeModalName","console","warn","modalController","ModalContainer","styled","div","props","height","width","zIndex","ModalContent","CloseButton","button","Overlay","ModalTitle","h2","ModalHeader","useModalState","separator","useState","setOpen","setLevel","useEffect","handleClose","handleOpen","handleLevel","prefix","Modal","title","children","onClick","type","ModalController","StyledButton","Button","label","ModalOverlay","Wrapper","Modal1","Modal2","Modal3","Modal4","Modal5","App","rootElement","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.145dc8b6.chunk.js","sourcesContent":["// taken from https://gist.github.com/mudge/5830382\n/* Polyfill indexOf. */\nvar indexOf;\n\nif (typeof Array.prototype.indexOf === \"function\") {\n  indexOf = function (haystack, needle) {\n    return haystack.indexOf(needle);\n  };\n} else {\n  indexOf = function (haystack, needle) {\n    var i = 0,\n      length = haystack.length,\n      idx = -1,\n      found = false;\n\n    while (i < length && !found) {\n      if (haystack[i] === needle) {\n        idx = i;\n        found = true;\n      }\n\n      i++;\n    }\n\n    return idx;\n  };\n}\n\n/* Polyfill EventEmitter. */\nvar EventEmitter = function () {\n  this.events = {};\n};\n\nEventEmitter.prototype.on = function (event, listener) {\n  if (typeof this.events[event] !== \"object\") {\n    this.events[event] = [];\n  }\n\n  this.events[event].push(listener);\n};\n\nEventEmitter.prototype.off = function (event, listener) {\n  var idx;\n\n  if (typeof this.events[event] === \"object\") {\n    idx = indexOf(this.events[event], listener);\n\n    if (idx > -1) {\n      this.events[event].splice(idx, 1);\n    }\n  }\n};\n\nEventEmitter.prototype.emit = function (event) {\n  var i,\n    listeners,\n    length,\n    args = [].slice.call(arguments, 1);\n\n  if (typeof this.events[event] === \"object\") {\n    listeners = this.events[event].slice();\n    length = listeners.length;\n\n    for (i = 0; i < length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nEventEmitter.prototype.once = function (event, listener) {\n  this.on(event, function g() {\n    this.off(event, g);\n    listener.apply(this, arguments);\n  });\n};\n\nexport default EventEmitter;\n","import EventEmitter from \"../lib/EventEmitter\";\n\nexport const uiEvents = new EventEmitter();\n\nconst modalController = () => {\n  let stack = [];\n  let currentLevel = 0;\n\n  return {\n    open(name) {\n      // If modal already open bring it to front\n      if (stack.includes(name)) {\n        stack = stack.filter((o) => o !== name);\n      }\n      stack.push(name);\n      currentLevel += 1;\n      uiEvents.emit(`${name}.open`, { level: currentLevel });\n      uiEvents.emit(\"overlay$open\", { level: currentLevel });\n    },\n    close() {\n      if (stack.length > 0) {\n        const name = stack.pop();\n        uiEvents.emit(`${name}.close`);\n        if (stack.length === 0) {\n          uiEvents.emit(\"overlay$close\");\n          currentLevel = 0;\n        } else {\n          const activeModalName = stack[stack.length - 1];\n          currentLevel -= 1;\n          uiEvents.emit(\"overlay$level\", { level: currentLevel });\n          uiEvents.emit(`${activeModalName}.level`, {\n            level: currentLevel,\n          });\n        }\n      } else {\n        console.warn(\"No modals are open\");\n      }\n    },\n  };\n};\n\nconst controller = modalController();\n\nexport default controller;\n","import styled from \"styled-components\";\n\nconst ModalContainer = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 1rem;\n  background-color: white;\n  z-index: 99;\n  height: ${(props) => props.height || \"auto\"};\n  width: ${(props) => props.width || \"auto\"};\n  z-index: ${(props) => 99 + props.zIndex || 99};\n  border-radius: 0.3rem;\n  border: 1px solid #dee2e6;\n`;\n\nconst ModalContent = styled.div`\n  padding: 1rem;\n`;\n\nconst CloseButton = styled.button`\n  background-color: transparent;\n  cursor: pointer;\n  border: none;\n  font-size: 2rem;\n  color: #7f7f7f;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  user-select: none;\n  &:hover {\n    color: black;\n  }\n`;\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ${(props) => 99 + props.zIndex || 99};\n  background-color: rgba(0, 0, 0, 0.5);\n`;\n\nconst ModalTitle = styled.h2`\n  margin: 0;\n`;\n\nconst ModalHeader = styled.div`\n  border-bottom: 1px solid #7f7f7f;\n  padding: 1rem;\n`;\n\nexport {\n  ModalContent,\n  CloseButton,\n  Overlay,\n  ModalHeader,\n  ModalTitle,\n  ModalContainer,\n};\n","import { useEffect, useState } from \"react\";\nimport { uiEvents } from \"../../utils/ModalController\";\n\nfunction useModalState(name, separator = \".\") {\n  const [open, setOpen] = useState(false);\n  const [level, setLevel] = useState(0);\n\n  useEffect(() => {\n    function handleClose() {\n      setOpen(false);\n    }\n\n    function handleOpen({ level }) {\n      setOpen(true);\n      setLevel(level);\n    }\n\n    function handleLevel({ level }) {\n      setLevel(level);\n    }\n\n    const prefix = `${name}${separator}`;\n    uiEvents.on(`${prefix}open`, handleOpen);\n    uiEvents.on(`${prefix}close`, handleClose);\n    uiEvents.on(`${prefix}level`, handleLevel);\n\n    return () => {\n      uiEvents.off(`${prefix}open`, handleOpen);\n      uiEvents.off(`${prefix}close`, handleClose);\n      uiEvents.off(`${prefix}level`, handleLevel);\n    };\n  }, [name]);\n\n  return { open, level };\n}\n\nexport default useModalState;\n","import React from \"react\";\nimport ModalController from \"../../utils/ModalController\";\nimport {\n  ModalContent,\n  CloseButton,\n  ModalContainer,\n  ModalHeader,\n  ModalTitle,\n} from \"./styles\";\nimport useModalState from \"./useModalState\";\n\nconst Modal = ({ name, width, height, title, children }) => {\n  const { open, level } = useModalState(name);\n\n  if (open) {\n    return (\n      <ModalContainer zIndex={level} height={height} width={width}>\n        <ModalHeader>\n          <ModalTitle>{title}</ModalTitle>\n          <CloseButton onClick={Modal.close} type=\"button\">\n            &times;\n          </CloseButton>\n        </ModalHeader>\n        <ModalContent>{children}</ModalContent>\n      </ModalContainer>\n    );\n  } else {\n    return null;\n  }\n};\n\nModal.open = ModalController.open;\nModal.close = ModalController.close;\n\nexport default Modal;\n","import Modal from \"./Modal\";\n\nexport default Modal;\n","import styled from \"styled-components\";\n\nconst StyledButton = styled.button`\n  font-size: 1rem;\n  color: #1976d2;\n  border: 1px solid rgba(25, 118, 210, 0.5);\n  padding: 0.25em 1rem;\n  border-radius: 0.2rem;\n  user-select: none;\n`;\n\nexport { StyledButton };\n","import Button from \"./Button\";\n\nexport default Button;\n","import React from \"react\";\nimport { StyledButton } from \"./styles\";\n\nconst Button = ({ label, onClick }) => {\n  return <StyledButton onClick={onClick}>{label}</StyledButton>;\n};\n\nexport default Button;\n","import React from \"react\";\nimport Modal from \"./Modal\";\nimport { Overlay } from \"./styles\";\nimport useModalState from \"./useModalState\";\n\nconst ModalOverlay = (props) => {\n  const { open, level } = useModalState(\"overlay\", \"$\");\n\n  if (open) {\n    return <Overlay onClick={Modal.close} zIndex={level} {...props} />;\n  } else {\n    return null;\n  }\n};\n\nexport default ModalOverlay;\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  padding: 1rem;\n  display: block;\n  text-align: center;\n`;\n\nexport { Wrapper };\n","import React from \"react\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport ModalOverlay from \"./components/Modal/ModalOverlay\";\nimport \"./styles.css\";\nimport { Wrapper } from \"./styles\";\n\nconst Modal1 = (\n  <div>\n    <p>\n      \"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet,\n      consectetur, adipisci velit...\"\n    </p>\n    <Button label=\"Open Modal 2\" onClick={() => Modal.open(\"m2\")} />\n  </div>\n);\n\nconst Modal2 = (\n  <div>\n    <p>\n      \"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet,\n      consectetur, adipisci velit...\"\n    </p>\n    <Button onClick={() => Modal.open(\"m3\")} label=\"Open Modal 3\" />\n  </div>\n);\nconst Modal3 = (\n  <div>\n    <p>\n      \"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet,\n      consectetur, adipisci velit...\"\n    </p>\n    <Button onClick={() => Modal.open(\"m4\")} label=\"Open Modal 4\" />\n  </div>\n);\nconst Modal4 = (\n  <div>\n    <p>\n      \"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet,\n      consectetur, adipisci velit...\"\n    </p>\n    <Button onClick={() => Modal.open(\"m5\")} label=\"Open Modal 5\" />\n  </div>\n);\nconst Modal5 = (\n  <div>\n    <p>\n      \"Neque porro quisquam est qui dolorem ipsum quia dolor sit amet,\n      consectetur, adipisci velit...\"\n    </p>\n    <Button onClick={() => Modal.open(\"m1\")} label=\"Open Modal 1\" />\n  </div>\n);\n\nexport default function App() {\n  return (\n    <Wrapper>\n      <ModalOverlay />\n      <Button label=\"Trigger Modal\" onClick={() => Modal.open(\"m1\")}></Button>\n      <Modal title=\"Modal 1\" name=\"m1\" height=\"600px\" width=\"600px\">\n        {Modal1}\n      </Modal>\n      <Modal title=\"Modal 2\" name=\"m2\" height=\"500px\" width=\"500px\">\n        {Modal2}\n      </Modal>\n      <Modal title=\"Modal 3\" name=\"m3\" height=\"400px\" width=\"400px\">\n        {Modal3}\n      </Modal>\n      <Modal title=\"Modal 4\" name=\"m4\" height=\"300px\" width=\"300px\">\n        {Modal4}\n      </Modal>\n      <Modal title=\"Modal 5\" name=\"m5\">\n        {Modal5}\n      </Modal>\n    </Wrapper>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <header>Modal Demo</header>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}